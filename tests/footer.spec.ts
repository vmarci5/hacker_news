import { test, expect } from '@playwright/test';

test('footer', async ({ page }) => {
  await page.goto('http://localhost:3000/');
  await expect(page.locator('div').filter({ hasText: 'GuidelinesFAQListsAPISecurityLegalApply to YCContact' })).toBeVisible();
  await expect(page.getByRole('contentinfo')).toContainText('Guidelines');
  await expect(page.getByRole('contentinfo')).toContainText('FAQ');
  await expect(page.getByRole('contentinfo')).toContainText('Lists');
  await expect(page.getByRole('contentinfo')).toContainText('API');
  await expect(page.getByRole('contentinfo')).toContainText('Security');
  await expect(page.getByRole('contentinfo')).toContainText('Legal');
  await expect(page.getByRole('contentinfo')).toContainText('Apply to YC');
  await expect(page.getByRole('contentinfo')).toContainText('Contact');
  await page.getByRole('link', { name: 'Guidelines' }).click();
  await expect(page.locator('h1')).toContainText('Hacker News Guidelines');
  await expect(page.getByRole('img', { name: 'Hacker News', exact: true })).toBeVisible();
  await expect(page.getByRole('main')).toContainText('Hacker News GuidelinesWhat to SubmitOn-Topic: Anything that good hackers would find interesting. That includes more than hacking and startups. If you had to reduce it to a sentence, the answer might be: anything that gratifies one\'s intellectual curiosity.Off-Topic: Most stories about politics, or crime, or sports, or celebrities, unless they\'re evidence of some interesting new phenomenon. Videos of pratfalls or disasters, or cute animal pictures. If they\'d cover it on TV news, it\'s probably off-topic.In SubmissionsPlease don\'t do things to make titles stand out, like using uppercase or exclamation points, or saying how great an article is. It\'s implicit in submitting something that you think it\'s important.Please submit the original source. If a post reports on something found on another site, submit the latter.Please don\'t use HN primarily for promotion. It\'s ok to post your own stuff part of the time, but the primary use of the site should be for curiosity.If the title includes the name of the site, please take it out, because the site name will be displayed after the link.If the title contains a gratuitous number or number + adjective, we\'d appreciate it if you\'d crop it. E.g. translate "10 Ways To Do X" to "How To Do X," and "14 Amazing Ys" to "Ys." Exception: when the number is meaningful, e.g. "The 5 Platonic Solids."Otherwise please use the original title, unless it is misleading or linkbait; don\'t editorialize.If you submit a video or pdf, please warn us by appending [video] or [pdf] to the title.Please don\'t post on HN to ask or tell us something. Send it to hn@ycombinator.com.Please don\'t delete and repost. Deletion is for things that shouldn\'t have been submitted in the first place.Don\'t solicit upvotes, comments, or submissions. Users should vote and comment when they run across something they personally find interesting—not for promotion.In CommentsBe kind. Don\'t be snarky. Converse curiously; don\'t cross-examine. Edit out swipes.Comments should get more thoughtful and substantive, not less, as a topic gets more divisive.When disagreeing, please reply to the argument instead of calling names. "That is idiotic; 1 + 1 is 2, not 3" can be shortened to "1 + 1 is 2, not 3."Don\'t be curmudgeonly. Thoughtful criticism is fine, but please don\'t be rigidly or generically negative.Please don\'t fulminate. Please don\'t sneer, including at the rest of the community.Please respond to the strongest plausible interpretation of what someone says, not a weaker one that\'s easier to criticize. Assume good faith.Eschew flamebait. Avoid generic tangents. Omit internet tropes.Please don\'t post shallow dismissals, especially of other people\'s work. A good critical comment teaches us something.Please don\'t use Hacker News for political or ideological battle. It tramples curiosity.Please don\'t comment on whether someone read an article. "Did you even read the article? It mentions that" can be shortened to "The article mentions that".Please don\'t pick the most provocative thing in an article or post to complain about in the thread. Find something interesting to respond to instead.Throwaway accounts are ok for sensitive information, but please don\'t create accounts routinely. HN is a community—users should have an identity that others can relate to.Please don\'t use uppercase for emphasis. If you want to emphasize a word or phrase, put *asterisks* around it and it will get italicized.Please don\'t post insinuations about astroturfing, shilling, brigading, foreign agents, and the like. It degrades discussion and is usually mistaken. If you\'re worried about abuse, email hn@ycombinator.com and we\'ll look at the data.Please don\'t complain that a submission is inappropriate. If a story is spam or off-topic, flag it. Don\'t feed egregious comments by replying; flag them instead. If you flag, please don\'t also comment that you did.Please don\'t complain about tangential annoyances—e.g. article or website formats, name collisions, or back-button breakage. They\'re too common to be interesting.Please don\'t comment about the voting on comments. It never does any good, and it makes boring reading.Please don\'t post comments saying that HN is turning into Reddit. It\'s a semi-noob illusion, as old as the hills.');
  await page.getByRole('link', { name: 'FAQ' }).click();
  await expect(page.locator('h1')).toContainText('Hacker News FAQ');
  await expect(page.getByRole('img', { name: 'Hacker News', exact: true })).toBeVisible();
  await expect(page.getByRole('main')).toContainText('Hacker News FAQAre there rules about submissions and comments?Yes. See the GuidelinesHow are stories ranked?The basic algorithm divides points by a power of the time since a story was submitted. Comments in threads are ranked the same way.Other factors affecting rank include user flags, anti-abuse software, software which demotes overheated discussions, account or site weighting, and moderator action.How is a user\'s karma calculated?Roughly, the number of upvotes on their posts minus the number of downvotes. These don\'t match up exactly. Some votes are dropped by anti-abuse software.Do posts by users with more karma rank higher?No.Why don\'t I see down arrows?There are no down arrows on stories. They appear on comments after users reach a certain karma threshold, but never on direct replies.What kind of formatting can you use in comments?Check out the formatting guide here: Format guideHow do I submit a question?Use the submit link in the top bar, and leave the url field blank.How do I submit a poll?Use the poll submission formHow do I make a link in a text submission?You can\'t. This is to prevent people from submitting a link with their comments in a privileged position at the top of the page. If you want to submit a link with comments, just submit the link, then add a regular comment.What are Ask HN and Show HN?Ask HN lists questions and other text submissions. Show HN is for sharing your personal work and has special rules.Why hasn\'t my submission appeared on Ask HN or Show HN?All Ask HNs appear on newest and asknew, and all Show HNs on newest and shownew, but there is a small points threshold before a post makes it to ask or show.What do green usernames mean?Green indicates a new account.Why are some comments faded?Faded text means that a comment has been downvoted. You can read the comment in normal text by clicking on its timestamp to go to its page.What does [flagged] mean?Users flagged the post as breaking the guidelines or otherwise not belonging on HN.Moderators sometimes also add [flagged] (though not usually on submissions), and sometimes turn flags off when they are unfair.How do I flag a comment?Click on its timestamp to go to its page, then click the \'flag\' link at the top. There\'s a small karma threshold before flag links appear.What does [dead] mean?The post was killed by software, user flags, or moderators.Dead posts aren\'t displayed by default, but you can see them all by turning on \'showdead\' in your profile.If you see a [dead] post that shouldn\'t be dead, you can vouch for it. Click on its timestamp to go to its page, then click \'vouch\' at the top. When enough users do this, the post is restored. There\'s a small karma threshold before vouch links appear.What does [deleted] mean?The author deleted the post, or asked us to. Unlike dead posts, these remain deleted even when showdead is turned on.What do \'hide\' links do?They remove a submission from your personal view. Others still see it.Are reposts ok?If a story has not had significant attention in the last year or so, a small number of reposts is ok. Otherwise we bury reposts as duplicates.Please don\'t delete and repost the same story. Deletion is for things that shouldn\'t have been submitted in the first place.Are paywalls ok?It\'s ok to post stories from sites with paywalls that have workarounds.In comments, it\'s ok to ask how to read an article and to help other users do so. But please don\'t post complaints about paywalls. Those are off topic. More here.Can I ask people to upvote my submission?No. Users should vote for a story because they personally find it intellectually interesting, not because someone has content to promote. We penalize or ban submissions, accounts, and sites that break this rule, so please don\'t.Can I ask people to comment on my submission?No, for the same reason. It\'s also not in your interest: HN readers are sensitive to this and will detect it, flag it, and use unkind words like \'spam\'.Can I post a job ad?Please don\'t post job ads as submissions to HN.A regular "Who Is Hiring?" thread appears on the first weekday of each month (or Jan 2). Most job ads are welcome there. Only an account called whoishiring is allowed to submit the thread itself. This prevents a race to post it first.Another kind of job ad is reserved for YC-funded startups. These appear on the front page, but are not stories: they have no vote arrows, points, or comments. They begin part-way down and fall steadily. Only one is on the front page at a time. The rest are listed at jobs.What\'s the relationship between YC and HN?Y Combinator owns and funds HN. The HN team is editorially independent.HN gives three features to YC: job ads (see above) and startup launches get placed on the front page, and YC founder names are displayed to other YC alumni in orange.Are negative stories about YC suppressed on HN?No, we moderate less, not more, when YC or a YC startup is the topic. The good will of the community is worth more than any story.Why can\'t I post a comment to a thread?Threads are closed to new comments after two weeks, or if the submission has been killed by software, moderators, or user flags.Why is A ranked below B even though A has more points and is newer?You can\'t derive rank from votes and time alone. See "How are stories ranked?" above.In my profile, what is delay?It gives you time to edit your comments before they appear to others. Set it to the number of minutes you\'d like. The maximum is 10.In my profile, what is noprocrast?It\'s a way to help you prevent yourself from spending too much time on HN. If you turn it on you\'ll only be allowed to visit the site for maxvisit minutes at a time, with gaps of minaway minutes in between. The defaults are 20 and 180, which would let you view the site for 20 minutes at a time, and then not allow you back in for 3 hours.How do I reset my password?If you have an email address in your profile, you can do that here. If you haven\'t, email hn@ycombinator.com for help.Can I change my username?Yes. Email hn@ycombinator.com and we\'ll help.Can I delete my account?We try not to delete entire account histories because that would gut the threads the account had participated in. However, we care about protecting individual users and take care of privacy requests every day, so if we can help, please email hn@ycombinator.com. We don\'t want anyone to get in trouble from anything they posted to HN. More here.My IP address seems to be banned. How can I unban it?If you request many pages quickly, your IP address might get banned. This self-serve unbanning procedure works most of the time. If not, email hn@ycombinator.com.');
  await expect(page.getByRole('button', { name: 'Guidelines' })).toBeVisible();
  await expect(page.getByRole('main')).toContainText('Guidelines');
  await expect(page.getByRole('button', { name: 'Format guide' })).toBeVisible();
  await expect(page.getByRole('main')).toContainText('Format guide');
  await expect(page.getByRole('button', { name: 'Use the poll submission form' })).toBeVisible();
  await expect(page.getByRole('main')).toContainText('Use the poll submission form');
  await page.getByRole('button', { name: 'Guidelines' }).click();
  await page.getByRole('link', { name: 'FAQ' }).click();
  await page.getByRole('button', { name: 'Format guide' }).click();
  await page.goto('http://localhost:3000/footer/faq');
  await page.getByRole('button', { name: 'Use the poll submission form' }).click();
  await page.goto('http://localhost:3000/footer/faq');
  await page.getByRole('link', { name: 'Lists' }).click();
  await page.goto('http://localhost:3000/footer/faq');
  await page.getByRole('link', { name: 'API' }).click();
  await page.goto('http://localhost:3000/footer/faq');
  await page.getByRole('link', { name: 'Security' }).click();
  await expect(page.locator('h1')).toContainText('Hacker News Security');
  await expect(page.getByRole('img', { name: 'Hacker News', exact: true })).toBeVisible();
  await expect(page.getByRole('main')).toContainText('Hacker News SecurityIf you find a security hole, please let us know at security@ycombinator.com. We try to respond (with fixes!) as soon as possible, and really appreciate the help.Thanks to the following people who have discovered and responsibly disclosed security holes in Hacker News:2025-07-08: Benjamin FleschPoll options could be used for XSS.2023-01-02: Carter Sande, Mark Slater, James DarpinianSubmission titles were no longer being HTML-escaped in some places.2022-09-04: Dimitris TriantafyllidisUser karma could be increased by exploiting an upvote/unvote bug.2021-07-04: RyotaKURL tricks could display the wrong domain for some websites.2021-06-07: Atamyrat HezretgulyyevA CSRF logout was still possible in some cases.2021-02-14: Michael BrooksSet the SameSite cookie attribute for better CSRF protection.2017-04-30: Michael FlaxmanThe minor version of bcrypt used for passwords was susceptible to a collision in some cases.2017-04-14: Blake RandLinks in comments were vulnerable to an IDN homograph attack.2017-03-15: Blake RandThe right-to-left override character could be used to obscure link text in comments.2017-03-01: Jaikishan TulswaniLogged-in users could bypass \'old password\' form field.2016-02-17: Eric TjossemLogout and login were vulnerable to CSRF.2016-01-13: Mert TaşçiThe \'forgot password\' link was vulnerable to reflected XSS.2015-09-07: Sandeep SinghAn open redirect was possible by passing a URL with a mixed-case protocol as the goto parameter.2015-09-04: Manish BhattacharyaThe site name display for stories was vulnerable to an IDN homograph attack.2015-08-27: Chris MarlowRevisions to HN\'s markup caused an HTML injection regression.2015-06-24: Stephen SclafaniA form handling bug led to a XSS vulnerability using HTTP parameter pollution.2015-03-02: Max BondInformation leaked during /r processing allowed an attacker to discover valid profile edit links and the user for which they were valid.goto parameters functioned as open redirects.2014-11-01: Ovidiu ToaderIn rare cases some users\' profiles (including email addresses and password hashes) were mistakenly published to the Firebase API. More here.2014-10-27: San TranSome pages displaying forms were vulnerable to reflected XSS when provided malformed query string arguments.2014-05-01: Jonathan RudenbergSome YC internal pages were vulnerable to persistent XSS.2012-08-01: Louis LangRedirects were vulnerable to HTTP response splitting via the whence argument.Persistent XSS could be achieved via the X-Forwarded-For header.2012-07-20: Michael BorohovskiIncorrect handling of unauthenticated requests meant anyone could change rsvp status for Demo Day.2010-01-12: Zain MemonSomeone creating a new account could sometimes take an existing username.2009-06-03: Daniel Fox FrankeThe state of the PRNG used to generate cookies could be determined from observed outputs. This allowed an attacker to fairly easily determine valid user cookies and compromise accounts. More here.Missing From This List?If you reported a vulnerability to us and don\'t see your name, please shoot us an email and we\'ll happily add you. We crawled through tons of emails trying to find all reports but inevitably missed some.');
  await page.getByRole('link', { name: 'Legal' }).click();
  await page.goto('http://localhost:3000/footer/security');
  await page.getByRole('link', { name: 'Apply to YC' }).click();
  await page.goto('http://localhost:3000/footer/security');
  await page.getByRole('link', { name: 'Contact' }).click();
});